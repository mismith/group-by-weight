"use strict";angular.module("miUtil",[]).run(["$rootScope","$document","$timeout",function(n,e,t){FastClick&&FastClick.attach(document.body),viewportUnitsBuggyfill&&viewportUnitsBuggyfill.init();var i=n.$menu={active:!1,open:function(n){i.active=!0,n&&n.stopPropagation()},close:function(n){i.active=!1,n&&n.stopPropagation()},toggle:function(n){i.active=!i.active,n&&n.stopPropagation()}};e.on("click",function(){t(function(){i.close()})}),e.on("keyup",function(n){27===n.keyCode&&t(function(){i.close()})}),n.miUtilPreventScrollOnMenuActive=!0,n.$watch("$menu.active",function(e){n.miUtilPreventScrollOnMenuActive&&angular.element(document.body).css({overflow:e?"hidden":""})});var o=n.$modal={active:!1,open:function(n){o.active=n},close:function(){o.active=!1},toggle:function(n){o.active=o.active===n?!1:n},isOpen:function(n){return o.active===n}};e.on("keyup",function(n){27===n.keyCode&&t(function(){o.close()})}),n.$watch("$modal.active",function(e){angular.element(document.body).css({overflow:e?"hidden":""}),n.$broadcast("$modal."+(e?"open":"close"))})}]).filter("length",function(){return function(n){return angular.isArray(n)?n.length:angular.isObject(n)?Object.keys(n).filter(function(n){return"$"!=n[0]}).length:0}}).filter("unique",function(){return function(n,e){if(!n)return n;for(var t={},i=[],o=0;o<n.length;o++)t[angular.isFunction(e)?e(n[o]):n[o][e]]=n[o];for(var c in t)i.push(t[c]);return i}}).directive("miIcon",function(){return{scope:{svg:"@",size:"@"},restrict:"E",replace:!0,templateNamespace:"svg",template:'<svg xmlns="http://www.w3.org/2000/svg" class="mi-icon" style="display: inline-block; width: {{ size || 16 }}px; height: {{ size || 16 }}px; fill: currentColor; vertical-align: middle;"><use xlink:href="" /></svg>',link:function(n,e,t){t.$observe("svg",function(n){e.children().attr("xlink:href","assets/icons.svg#"+n)})}}}).directive("miModal",function(){return{scope:{id:"@"},restrict:"E",replace:!0,transclude:!0,template:'<aside ng-show="$modal.isOpen(id)" ng-click="$modal.close()" class="mi-modal-container" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0;">\n				<div class="mi-modal">\n					<div ng-click="$event.stopPropagation()" class="mi-modal-content" ng-transclude></div>\n					<a ng-click="$modal.close()" class="mi-modal-close">\n						<mi-icon svg="x"></mi-icon>\n					</a>\n				</div>\n			</aside>'}}).directive("miClickToggle",["$timeout","$parse",function(n,e){return{restrict:"A",link:function(t,i,o){var c=t.$eval(o.miClickToggle);i.on("click",function(i){i.preventDefault(),n(function(){angular.forEach(c,function(n,i){return e(i).assign(t,n)})})}),angular.forEach(c,function(n,e){t.$watch(e,function(e){void 0!==e&&i[n===e?"addClass":"removeClass"](t.$eval(o.miClickToggleActive)||"active")})})}}}]),angular.module("group-by-weight",[]).controller("AppCtrl",["$scope",function(n){n.items=function(n){for(var e=[],t=0;t<parseInt(n);t++)e.push(t);return e},n.groups=[{name:"Red"},{name:"Orange"},{name:"Yellow"},{name:"Green"},{name:"Blue"},{name:"Indigo"},{name:"Violet"}],n.colors=[],n.$watch("groups",function(e){n.colors=[];for(var t=0;360>t;t+=360/e.length)n.colors.push("hsl("+t+", "+(90+10*Math.random())+"%, "+(50+10*Math.random())+"%)")})}]);